@page
@model MultipleSubmitButtons1.Pages.IndexModel
@{
    ViewData["Title"] = "Home";
}

<h1 class="display-6">Session Request</h1>

<form method="post">
    <div class="mb-3">
        <label asp-for="SessionCountInput" class="form-label">How many sessions?</label>
        <input asp-for="SessionCountInput" class="form-control" type="number" min="1" />
        <span asp-validation-for="SessionCountInput" class="text-danger"></span>
    </div>

    <div class="d-flex gap-2">
        <button type="submit" asp-page-handler="YogaPostures" class="btn btn-primary">Yoga Postures</button>
        <button type="submit" asp-page-handler="Meditation" class="btn btn-secondary">Kriya &amp; Meditation</button>
        <button type="submit" asp-page-handler="RestorativeYoga" class="btn btn-outline-primary">Restorative Yoga</button>
    </div>

    @Html.AntiForgeryToken()
</form>

<hr />

@* Renders on the same request when you return Page(); *@
@if (Model.SessionCount.HasValue && !string.IsNullOrWhiteSpace(Model.Program))
{
    <div class="alert alert-info mt-3">
        Your request for <span class="text-danger fw-bold">@Model.SessionCount</span>
        sessions in @Model.Program is being processed.
    </div>
}

@* If nothing shows, this summary will reveal validation errors *@
<div class="mt-2">
    <div asp-validation-summary="All" class="text-danger"></div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}