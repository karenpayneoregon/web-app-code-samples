@page
@model MultipleSubmitButtons1.Pages.IndexModel
@{
    ViewData["Title"] = "Home";
}

<link href="~/css/indexpage.css" rel="stylesheet" />

<h1 class="display-6">Session Request</h1>

<form method="post">

    <div class="mb-3 d-flex align-items-center">

        <label asp-for="CountInput" class="form-label me-2 mb-0">How many sessions?</label>

        <input asp-for="CountInput"
               class="form-control input-small-number"
               type="number" min="1"/>

    </div>

    <span asp-validation-for="CountInput" class="text-danger"></span>


    <div class="d-flex gap-2">
        <!-- No asp-page-handler here. We post a named value instead. -->
        <button type="submit" name="action" value="YogaPostures" class="btn btn-primary">Yoga Postures</button>
        <button type="submit" name="action" value="Meditation" class="btn btn-secondary">Kriya &amp; Meditation</button>
        <button type="submit" name="action" value="RestorativeYoga" class="btn btn-success">Restorative Yoga</button>
    </div>

    @Html.AntiForgeryToken()
</form>

<hr />

@if (Model.SessionCount.HasValue && !string.IsNullOrWhiteSpace(Model.Program))
{
    <div class="alert alert-info mt-3">
        Your request for <span class="text-danger fw-bold">@Model.SessionCount</span>
        sessions in @Model.Program is being processed.
    </div>
}

<div class="mt-2">
    <div asp-validation-summary="All" class="text-danger"></div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}