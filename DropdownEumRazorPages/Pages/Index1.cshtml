@page
@model DropdownEumRazorPages.Pages.Index1Model
@{
}

<h1 class="fs-5">Code sample</h1>
<form method="post" id="selectCarForm">
    <div class="row">

        <label for="carSelect" class="mt-2">
            Select a new car from the list to begin
        </label>

        <select id="carSelect"
                asp-for="SelectedCar"
                class="form-select w-25"
                onchange="carSelectHandler()">

            <option value="Select">Select</option>
            <option value="Audi">Audi</option>
            <option value="BMW">BMW</option>
            <option value="Ford">Ford</option>
            <option value="Mazda">Mazda</option>
            <option value="Mercedes">Mercedes</option>
            <option value="Volvo">Volvo</option>
        </select>

    </div>

    <div class="row mt-2">
        <input type="submit"
               id="btn" 
               value="Create"
               class="btn btn-primary w-25" />
    </div>
    
</form>

<script>

    var submitButton = document.getElementById("btn");
    var selectElement = document.getElementById("carSelect");

    function carSelectHandler() {

        if (selectElement.value === 'Select') {
            submitButton.disabled = true;
            // may want to show a message why
            return;
        }

        submitButton.disabled = false;
    }

    document.addEventListener("DOMContentLoaded", () => {
        submitButton.disabled = true;
        selectElement.value = 'Select';
    });
</script>