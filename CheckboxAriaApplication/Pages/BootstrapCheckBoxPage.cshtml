@page
@model CheckboxAriaApplication.Pages.BootstrapCheckBoxPageModel
@{
}
<div class="container">

    <div class="alert alert-info alert-dismissible fade show w-50" role="alert">
        <strong>aria-checked</strong> example using Javascript for Bootstrap 5
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>

    <form method="post" class="border border-dark rounded-top border-2 w-50 p-2 bg-light" id="main-content">
        <div class="form-check">

            <input class="form-check-input"
                   name="coffeeToppings"
                   type="checkbox"
                   value=""
                   id="addSugar"
                   aria-checked="false">

            <label class="form-check-label" id="chk1-label" for="addSugar">Sugar</label>
        </div>

        <div class="form-check">
            <input class="form-check-input"
                   type="checkbox"
                   value=""
                   name="coffeeToppings"
                   id="addCreme"
                   aria-checked="True">

            <label class="form-check-label" for="addCreme">Creme</label>
        </div>
    </form>

</div>


@section scripts{
    <script>
        // check the 2nd check box
        $(document).ready(function(e) {
            document.getElementById("addCreme").checked = true;
            document.getElementById("addCreme").setAttribute('aria-checked', 'true');;
        });

        /*
         * The following code should be placed into a script file but for
         * learning we leave it here.
         */

        // get all check boxes
        var checkboxes = document.getElementsByClassName("form-check-input");

        // setup logic to toggle aria-checked
        for(let index = 0;index < checkboxes.length;index++){

            checkboxes[index].onclick = function(){
                
                if (checkboxes[index].getAttribute('aria-checked') === 'true') {
                    checkboxes[index].setAttribute('aria-checked', 'false');
                } else {
                    checkboxes[index].setAttribute('aria-checked', 'true');
                }
            };
        }

    </script>
}